#compdef cloudflared
# Auto-generated by `aicomplete` @ 2024.04.29

_cloudflared() {
  local -a commands
  local -a options

  _arguments -C \
    '(- :)'{-h,--help}'[show help]' \
    '(- :)'{-v,-V,--version}'[print the version]' \
    '--credentials-file[specify tunnel credentials file]:credentials file:_files' \
    '--cred-file[specify tunnel credentials file]:credentials file:_files' \
    '--region[specify Cloudflare Edge region to connect to]:region:(global us-east us-west eu-central asia)' \
    '--edge-ip-version[specify Cloudflare Edge IP address version]:version:(4 6 auto)' \
    '--edge-bind-address[bind to IP address for outgoing connections]:bind address:_hosts' \
    '--label[specify a label for a connector]:label:' \
    '--post-quantum[enable experimental post-quantum secure tunnel]:post-quantum:(true false)' \
    '--management-diagnostics[enable in-depth diagnostic routes]:management diagnostics:(true false)' \
    '--overwrite-dns[overwrite existing DNS records]:overwrite dns:(true false)' \
    '*:: :->command' \
    && return 0

  case $state in
    command)
      commands=(
        'update:Update the agent if a new version exists'
        'version:Print the version'
        'proxy-dns:Run a DNS over HTTPS proxy server'
        'tail:Stream logs from a remote cloudflared'
        'service:Manages the cloudflared system service'
        'help:Shows a list of commands or help for one command'
        'access:Access subcommands'
        'tunnel:Use Cloudflare Tunnel to expose services'
      )
      _describe -t commands 'cloudflared command' commands
      ;;
    access)
      local -a access_commands
      access_commands=(
        'login:Authenticate and obtain new credentials'
        'logout:Revoke current credentials'
        'list:List all active sessions'
      )
      _describe -t commands 'access command' access_commands
      ;;
    tunnel)
      local -a tunnel_commands
      tunnel_commands=(
        'create:Create a new tunnel'
        'delete:Delete an existing tunnel'
        'list:List all tunnels'
        'info:Show information about a specific tunnel'
      )
      _describe -t commands 'tunnel command' tunnel_commands
      ;;
  esac
}

_cloudflared "$@"
